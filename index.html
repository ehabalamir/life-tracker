<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø´Ø§Ù…Ù„ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .daily-overview {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            color: white;
            text-align: center;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 12px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 22px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .reminder-popup {
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 300px;
        }

        .reminder-popup.show {
            transform: translateX(0);
        }

        .reminder-close {
            position: absolute;
            top: 5px;
            right: 10px;
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }

        .weekly-goals {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .goal-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .section-card:hover {
            transform: translateY(-5px);
        }

        .section-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 15px;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: inherit;
            background: white;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .time-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .weight-height-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .rating-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .rating-item {
            text-align: center;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 10px;
        }

        .rating-item label {
            font-size: 12px;
            margin-bottom: 5px;
        }

        .rating-slider {
            width: 100%;
            margin: 8px 0;
        }

        .rating-display {
            font-size: 1.4rem;
            font-weight: bold;
            color: #667eea;
            margin: 3px 0;
        }

        .rating-emoji {
            font-size: 1.2rem;
        }

        .meal-tracker {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .meal-item {
            text-align: center;
            background: #f8f9fa;
            padding: 15px 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .meal-item:hover {
            background: #e3f2fd;
        }

        .meal-item.selected {
            background: #667eea;
            color: white;
            border-color: #5a6fd8;
        }

        .meal-emoji {
            font-size: 2rem;
            display: block;
            margin-bottom: 5px;
        }

        .habit-tracker {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .habit-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .habit-item:hover {
            background: #e3f2fd;
        }

        .habit-item.checked {
            background: #667eea;
            color: white;
        }

        .habit-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.3s ease;
            width: 100%;
            margin: 15px 0 5px 0;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
        }

        .daily-score {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 2.5rem;
            font-weight: bold;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .score-item {
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 10px;
            text-align: center;
        }

        .full-width-section {
            grid-column: 1 / -1;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-3px);
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .insights-section {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
        }

        .insight-item {
            margin: 12px 0;
            padding: 12px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            border-right: 4px solid #667eea;
        }

        .challenges-section {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
        }

        .challenge-item {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .data-entry {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .data-entry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .data-entry-content {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            height: 350px;
            position: relative;
        }

        .alert {
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            animation: slideIn 0.5s ease;
            font-weight: bold;
        }

        .alert-success {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
        }

        .alert-warning {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            color: white;
        }

        .bmi-display {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 10px;
        }

        .bmi-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievements-badge {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            color: white;
            padding: 10px;
            border-radius: 50px;
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
        }

        /* Dark Mode */
        .dark-mode {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        }

        .dark-mode .section-card {
            background: rgba(44, 62, 80, 0.9);
            color: white;
        }

        .dark-mode .section-title {
            color: white;
            border-bottom-color: #74b9ff;
        }

        .dark-mode input, .dark-mode textarea, .dark-mode select {
            background: #34495e;
            color: white;
            border-color: #5a6c7d;
        }

        .dark-mode .rating-item, .dark-mode .meal-item, .dark-mode .habit-item {
            background: #34495e;
            color: white;
        }

        .dark-mode .stat-card {
            background: #34495e;
            color: white;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .notification-badge {
            animation: pulse 2s infinite;
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .rating-group {
                grid-template-columns: 1fr;
            }
            
            .meal-tracker {
                grid-template-columns: 1fr;
            }
            
            .habit-tracker {
                grid-template-columns: 1fr;
            }
            
            .score-breakdown {
                grid-template-columns: repeat(2, 1fr);
            }

            .weight-height-inputs {
                grid-template-columns: 1fr;
            }
        }

        .progress-indicator {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
    
    <!-- Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© -->
    <div class="reminder-popup" id="reminderPopup">
        <button class="reminder-close" onclick="closeReminder()">Ã—</button>
        <div id="reminderText"></div>
        <button class="btn btn-success" onclick="handleReminderAction()" style="margin-top: 10px; padding: 8px 15px; font-size: 14px;">Ø­Ø³Ù†Ø§Ù‹</button>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸŒŸ Ù…ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø´Ø§Ù…Ù„</h1>
            <p class="subtitle">Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù…ØªÙƒØ§Ù…Ù„ Ù„ØªØªØ¨Ø¹ ÙˆØªØ­Ø³ÙŠÙ† ÙƒÙ„ Ø¬Ø§Ù†Ø¨ Ù…Ù† Ø¬ÙˆØ§Ù†Ø¨ Ø­ÙŠØ§ØªÙƒ</p>
            <div class="daily-overview" id="dailyOverview">
                <strong>Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</strong>
            </div>
        </div>

        <!-- Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ -->
        <div class="weekly-goals">
            <h3>ğŸ¯ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3>
            <div class="goals-grid">
                <div class="goal-item">
                    <input type="text" id="weeklyGoal1" placeholder="Ù‡Ø¯Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„" style="background: rgba(255,255,255,0.2); border: none; color: white;">
                </div>
                <div class="goal-item">
                    <input type="text" id="weeklyGoal2" placeholder="Ù‡Ø¯Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ" style="background: rgba(255,255,255,0.2); border: none; color: white;">
                </div>
                <div class="goal-item">
                    <input type="text" id="weeklyGoal3" placeholder="Ù‡Ø¯Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«" style="background: rgba(255,255,255,0.2); border: none; color: white;">
                </div>
            </div>
            <button class="btn btn-secondary" onclick="saveWeeklyGoals()" style="margin-top: 15px;">ğŸ’¾ Ø­ÙØ¸ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</button>
        </div>

        <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© -->
        <div class="daily-score" id="dailyScoreCard">
            <h3>ğŸ† Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙŠÙˆÙ…</h3>
            <div class="score-circle" id="totalScore">0%</div>
            <div class="progress-indicator">
                <div class="progress-fill" id="mainProgress" style="width: 0%"></div>
            </div>
            <div class="score-breakdown">
                <div class="score-item">
                    <div><strong id="sleepScore">0</strong></div>
                    <div>ğŸ˜´ Ø§Ù„Ù†ÙˆÙ…</div>
                </div>
                <div class="score-item">
                    <div><strong id="healthScore">0</strong></div>
                    <div>ğŸƒâ€â™‚ï¸ Ø§Ù„ØµØ­Ø©</div>
                </div>
                <div class="score-item">
                    <div><strong id="productivityScore">0</strong></div>
                    <div>âš¡ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</div>
                </div>
                <div class="score-item">
                    <div><strong id="wellbeingScore">0</strong></div>
                    <div>ğŸ˜Š Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©</div>
                </div>
            </div>
        </div>

        <div class="main-grid">
            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
            <div class="section-card">
                <h3 class="section-title">ğŸ“‹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                
                <div class="input-group">
                    <label>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®:</label>
                    <input type="date" id="date">
                </div>

                <div class="input-group">
                    <label>âš–ï¸ Ø§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø·ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <div class="weight-height-inputs">
                        <input type="number" id="weight" min="30" max="200" step="0.1" placeholder="Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)">
                        <input type="number" id="height" min="100" max="250" step="0.1" placeholder="Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)">
                    </div>
                </div>

                <div class="bmi-display" id="bmiDisplay" style="display: none;">
                    <div class="bmi-number" id="bmiValue">0</div>
                    <div id="bmiCategory">BMI</div>
                </div>

                <div class="input-group">
                    <label>ğŸ›ï¸ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†ÙˆÙ…:</label>
                    <div class="time-inputs">
                        <input type="time" id="bedTime" placeholder="ÙˆÙ‚Øª Ø§Ù„Ù†ÙˆÙ…">
                        <input type="time" id="wakeTime" placeholder="ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸">
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸ’¤ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ… (1-10):</label>
                    <input type="range" id="sleepQuality" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="sleepQualityValue">5</span> - <span id="sleepQualityEmoji">ğŸ˜´</span>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¶ØºÙˆØ· -->
            <div class="section-card">
                <h3 class="section-title">ğŸ’ª Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¶ØºÙˆØ·</h3>
                
                <div class="input-group">
                    <label>ğŸ“Š Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØªØ±/Ø§Ù„Ø¶ØºØ· (1-10):</label>
                    <input type="range" id="stressLevel" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="stressValue">5</span> - <span id="stressEmoji">ğŸ˜</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸš§ Ø£ÙƒØ¨Ø± ØªØ­Ø¯ÙŠ ÙˆØ§Ø¬Ù‡ØªÙ‡ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <textarea id="biggestChallenge" rows="2" placeholder="Ù…Ø§ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø£ØµØ¹Ø¨ Ø§Ù„Ø°ÙŠ ÙˆØ§Ø¬Ù‡ØªÙ‡ØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>ğŸ› ï¸ ÙƒÙŠÙ ØªØ¹Ø§Ù…Ù„Øª Ù…Ø¹Ù‡ØŸ</label>
                    <textarea id="challengeResponse" rows="2" placeholder="ÙƒÙŠÙ ØªØ¹Ø§Ù…Ù„Øª Ù…Ø¹ Ù‡Ø°Ø§ Ø§Ù„ØªØ­Ø¯ÙŠØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>ğŸŒŸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„ÙŠÙˆÙ… (1-10):</label>
                    <input type="range" id="creativityLevel" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="creativityValue">5</span> - <span id="creativityEmoji">ğŸ’¡</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸš€ Ù‡Ù„ Ø®Ø±Ø¬Øª Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©ØŸ</label>
                    <select id="comfortZone">
                        <option value="0">Ù„Ø§ØŒ Ø¨Ù‚ÙŠØª ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©</option>
                        <option value="1">Ø®Ø·ÙˆØ© ØµØºÙŠØ±Ø© Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©</option>
                        <option value="2" selected>Ø®Ø·ÙˆØ© Ù…ØªÙˆØ³Ø·Ø©</option>
                        <option value="3">Ø®Ø·ÙˆØ© ÙƒØ¨ÙŠØ±Ø© Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©</option>
                    </select>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø´Ø±Ø§Ø¨ -->
            <div class="section-card">
                <h3 class="section-title">ğŸ½ï¸ Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø´Ø±Ø§Ø¨</h3>
                
                <div class="input-group">
                    <label>ğŸ¥¤ Ø¹Ø¯Ø¯ Ø£ÙƒÙˆØ§Ø¨ Ø§Ù„Ù…Ø§Ø¡:</label>
                    <input type="number" id="waterGlasses" min="0" max="20" value="0">
                </div>

                <div class="input-group">
                    <label>â˜• Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª:</label>
                    <div class="time-inputs">
                        <input type="number" id="coffeeCount" min="0" max="10" value="0" placeholder="Ù‚Ù‡ÙˆØ©">
                        <input type="number" id="teaCount" min="0" max="10" value="0" placeholder="Ø´Ø§ÙŠ">
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸ½ï¸ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªÙ†Ø§ÙˆÙ„ØªÙ‡Ø§:</label>
                    <div class="meal-tracker">
                        <div class="meal-item" data-meal="breakfast">
                            <span class="meal-emoji">ğŸŒ…</span>
                            <div>ÙØ·ÙˆØ±</div>
                        </div>
                        <div class="meal-item" data-meal="lunch">
                            <span class="meal-emoji">â˜€ï¸</span>
                            <div>ØºØ¯Ø§Ø¡</div>
                        </div>
                        <div class="meal-item" data-meal="dinner">
                            <span class="meal-emoji">ğŸŒ™</span>
                            <div>Ø¹Ø´Ø§Ø¡</div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸ¥— Ø¬ÙˆØ¯Ø© Ø§Ù„Ø·Ø¹Ø§Ù… (1-10):</label>
                    <input type="range" id="foodQuality" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="foodQualityValue">5</span> - <span id="foodQualityEmoji">ğŸ½ï¸</span>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ø±ÙŠØ§Ø¶Ø© -->
            <div class="section-card">
                <h3 class="section-title">ğŸƒâ€â™‚ï¸ Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ø±ÙŠØ§Ø¶Ø©</h3>
                
                <div class="input-group">
                    <label>ğŸš¶â€â™‚ï¸ ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ÙŠÙˆÙ…:</label>
                    <select id="activityEstimate">
                        <option value="1">Ø®Ù…ÙˆÙ„ ØªØ§Ù… (Ù…Ø¹Ø¸Ù… Ø§Ù„ÙŠÙˆÙ… Ø¬Ø§Ù„Ø³/Ù†Ø§Ø¦Ù…)</option>
                        <option value="2">Ù†Ø´Ø§Ø· Ø®ÙÙŠÙ (Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´ÙŠ)</option>
                        <option value="3" selected>Ù†Ø´Ø§Ø· Ù…ØªÙˆØ³Ø· (Ù…Ø´ÙŠ + Ø­Ø±ÙƒØ© Ø¹Ø§Ø¯ÙŠØ©)</option>
                        <option value="4">Ù†Ø´Ø§Ø· Ø¬ÙŠØ¯ (Ù…Ø´ÙŠ ÙƒØ«ÙŠØ± + Ø¨Ø¹Ø¶ Ø§Ù„Ø±ÙŠØ§Ø¶Ø©)</option>
                        <option value="5">Ù†Ø´Ø§Ø· Ø¹Ø§Ù„ÙŠ (Ø±ÙŠØ§Ø¶Ø© Ù…Ù†ØªØ¸Ù…Ø©)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>ğŸ’ª Ù‡Ù„ Ù…Ø§Ø±Ø³Øª Ø±ÙŠØ§Ø¶Ø© Ø§Ù„ÙŠÙˆÙ…ØŸ</label>
                    <select id="exerciseToday">
                        <option value="0">Ù„Ø§</option>
                        <option value="1">Ø±ÙŠØ§Ø¶Ø© Ø®ÙÙŠÙØ© (10-20 Ø¯Ù‚ÙŠÙ‚Ø©)</option>
                        <option value="2">Ø±ÙŠØ§Ø¶Ø© Ù…ØªÙˆØ³Ø·Ø© (20-45 Ø¯Ù‚ÙŠÙ‚Ø©)</option>
                        <option value="3">Ø±ÙŠØ§Ø¶Ø© ÙƒØ«ÙŠÙØ© (Ø£ÙƒØ«Ø± Ù…Ù† 45 Ø¯Ù‚ÙŠÙ‚Ø©)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>ğŸŒŸ Ø´Ø¹ÙˆØ±Ùƒ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©:</label>
                    <input type="range" id="physicalEnergy" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="physicalEnergyValue">5</span> - <span id="physicalEnergyEmoji">ğŸ”‹</span>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© -->
            <div class="section-card">
                <h3 class="section-title">âš¡ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</h3>
                
                <div class="input-group">
                    <label>ğŸ¯ Ø£Ù‡Ù… 3 Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙŠÙˆÙ…:</label>
                    <input type="text" id="achievement1" placeholder="1. Ø£Ù‡Ù… Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙŠÙˆÙ…">
                    <input type="text" id="achievement2" placeholder="2. Ø«Ø§Ù†ÙŠ Ø¥Ù†Ø¬Ø§Ø²" style="margin-top: 8px;">
                    <input type="text" id="achievement3" placeholder="3. Ø«Ø§Ù„Ø« Ø¥Ù†Ø¬Ø§Ø²" style="margin-top: 8px;">
                </div>

                <div class="input-group">
                    <label>â±ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„ÙŠÙˆÙ…:</label>
                    <select id="focusLevel">
                        <option value="1">Ù…Ø´ØªØª Ø¬Ø¯Ø§Ù‹</option>
                        <option value="2">Ù…Ø´ØªØª Ù‚Ù„ÙŠÙ„Ø§Ù‹</option>
                        <option value="3" selected>Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ±ÙƒÙŠØ²</option>
                        <option value="4">Ù…Ø±ÙƒØ² Ø¬ÙŠØ¯Ø§Ù‹</option>
                        <option value="5">ØªØ±ÙƒÙŠØ² Ø¹Ù…ÙŠÙ‚ Ù…Ù…ØªØ§Ø²</option>
                    </select>
                </div>

                <div class="rating-group">
                    <div class="rating-item">
                        <label>ğŸ§  Ø§Ù„Ø°Ù‡Ù†</label>
                        <input type="range" class="rating-slider" id="mentalClarity" min="1" max="10" value="5">
                        <div class="rating-display" id="mentalClarityValue">5</div>
                        <div class="rating-emoji" id="mentalClarityEmoji">ğŸ§ </div>
                    </div>
                    <div class="rating-item">
                        <label>âš¡ Ø§Ù„Ø·Ø§Ù‚Ø©</label>
                        <input type="range" class="rating-slider" id="energyLevel" min="1" max="10" value="5">
                        <div class="rating-display" id="energyValue">5</div>
                        <div class="rating-emoji" id="energyEmoji">âš¡</div>
                    </div>
                    <div class="rating-item">
                        <label>ğŸ¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</label>
                        <input type="range" class="rating-slider" id="accomplishment" min="1" max="10" value="5">
                        <div class="rating-display" id="accomplishmentValue">5</div>
                        <div class="rating-emoji" id="accomplishmentEmoji">âœ…</div>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ -->
            <div class="section-card">
                <h3 class="section-title">ğŸ‘¥ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„ØªÙˆØ§ØµÙ„</h3>
                
                <div class="input-group">
                    <label>ğŸ“± ÙˆÙ‚Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙŠÙˆÙ…:</label>
                    <select id="screenTime">
                        <option value="5">Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹ØªÙŠÙ† âœ…</option>
                        <option value="4">2-4 Ø³Ø§Ø¹Ø§Øª ğŸ˜Š</option>
                        <option value="3" selected>4-6 Ø³Ø§Ø¹Ø§Øª ğŸ˜</option>
                        <option value="2">6-8 Ø³Ø§Ø¹Ø§Øª ğŸ˜”</option>
                        <option value="1">8-10 Ø³Ø§Ø¹Ø§Øª ğŸ˜°</option>
                        <option value="0">Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø³Ø§Ø¹Ø§Øª ğŸš¨</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>ğŸ’¬ Ù…Ù† ØªÙˆØ§ØµÙ„Øª Ù…Ø¹Ù‡ Ø§Ù„ÙŠÙˆÙ…ØŸ</label>
                    <div class="habit-tracker">
                        <div class="habit-item" data-habit="family">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</span>
                        </div>
                        <div class="habit-item" data-habit="friends">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ‘¥ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</span>
                        </div>
                        <div class="habit-item" data-habit="colleagues">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ’¼ Ø§Ù„Ø²Ù…Ù„Ø§Ø¡</span>
                        </div>
                        <div class="habit-item" data-habit="new-people">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ¤ Ø£Ø´Ø®Ø§Øµ Ø¬Ø¯Ø¯</span>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>â¤ï¸ Ø¬ÙˆØ¯Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ:</label>
                    <input type="range" id="socialQuality" min="1" max="10" value="5">
                    <div style="text-align: center;">
                        <span id="socialQualityValue">5</span> - <span id="socialQualityEmoji">ğŸ˜Š</span>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠ -->
            <div class="section-card">
                <h3 class="section-title">ğŸ“š Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠ</h3>
                
                <div class="input-group">
                    <label>ğŸ’¡ Ø£Ù‡Ù… Ø´ÙŠØ¡ ØªØ¹Ù„Ù…ØªÙ‡ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <textarea id="todayLearning" rows="2" placeholder="Ù…Ø§ Ø£Ù‡Ù… Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯ ØªØ¹Ù„Ù…ØªÙ‡ Ø£Ùˆ Ø§ÙƒØªØ´ÙØªÙ‡ØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>ğŸ“– Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±ÙŠØ© Ø§Ù„ÙŠÙˆÙ…:</label>
                    <div class="habit-tracker">
                        <div class="habit-item" data-learning="reading">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ“š Ù‚Ø±Ø§Ø¡Ø©</span>
                        </div>
                        <div class="habit-item" data-learning="course">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ“ ÙƒÙˆØ±Ø³/ØªØ¯Ø±ÙŠØ¨</span>
                        </div>
                        <div class="habit-item" data-learning="podcast">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ§ Ø¨ÙˆØ¯ÙƒØ§Ø³Øª</span>
                        </div>
                        <div class="habit-item" data-learning="practice">
                            <input type="checkbox" class="habit-checkbox">
                            <span>âš¡ Ù…Ù…Ø§Ø±Ø³Ø© Ù…Ù‡Ø§Ø±Ø©</span>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸ§˜â€â™‚ï¸ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø±ÙˆØ­ÙŠØ©/Ø§Ù„Ø°Ù‡Ù†ÙŠØ©:</label>
                    <div class="habit-tracker">
                        <div class="habit-item" data-spiritual="prayer">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ¤² ØµÙ„Ø§Ø©/Ø¯Ø¹Ø§Ø¡</span>
                        </div>
                        <div class="habit-item" data-spiritual="meditation">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ§˜â€â™‚ï¸ ØªØ£Ù…Ù„</span>
                        </div>
                        <div class="habit-item" data-spiritual="gratitude">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ™ Ø§Ù…ØªÙ†Ø§Ù†</span>
                        </div>
                        <div class="habit-item" data-spiritual="reflection">
                            <input type="checkbox" class="habit-checkbox">
                            <span>ğŸ’­ ØªØ£Ù…Ù„/ØªÙÙƒØ±</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø²Ø§Ø¬ ÙˆØ§Ù„Ù…Ø´Ø§Ø¹Ø± -->
            <div class="section-card">
                <h3 class="section-title">ğŸ˜Š Ø§Ù„Ù…Ø²Ø§Ø¬ ÙˆØ§Ù„Ù…Ø´Ø§Ø¹Ø±</h3>
                
                <div class="rating-group">
                    <div class="rating-item">
                        <label>ğŸ˜Š Ø§Ù„Ù…Ø²Ø§Ø¬ Ø§Ù„Ø¹Ø§Ù…</label>
                        <input type="range" class="rating-slider" id="overallMood" min="1" max="10" value="5">
                        <div class="rating-display" id="moodValue">5</div>
                        <div class="rating-emoji" id="moodEmoji">ğŸ˜</div>
                    </div>
                    <div class="rating-item">
                        <label>ğŸ˜Œ Ø§Ù„Ù‡Ø¯ÙˆØ¡</label>
                        <input type="range" class="rating-slider" id="calmness" min="1" max="10" value="5">
                        <div class="rating-display" id="calmnessValue">5</div>
                        <div class="rating-emoji" id="calmnessEmoji">ğŸ˜Œ</div>
                    </div>
                    <div class="rating-item">
                        <label>ğŸŒŸ Ø§Ù„Ø±Ø¶Ø§</label>
                        <input type="range" class="rating-slider" id="satisfaction" min="1" max="10" value="5">
                        <div class="rating-display" id="satisfactionValue">5</div>
                        <div class="rating-emoji" id="satisfactionEmoji">ğŸ™‚</div>
                    </div>
                </div>

                <div class="input-group">
                    <label>ğŸ™ Ø£ÙƒØ«Ø± Ø´ÙŠØ¡ Ø£Ù†Øª Ù…Ù…ØªÙ† Ù„Ù‡ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <textarea id="gratitude" rows="2" placeholder="Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ´Ø¹Ø± Ø¨Ø§Ù„Ø§Ù…ØªÙ†Ø§Ù† Ø§Ù„Ø£ÙƒØ¨Ø± Ù„Ù‡ØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>â­ Ø£Ø¬Ù…Ù„ Ù„Ø­Ø¸Ø© Ø¹Ø´ØªÙ‡Ø§ Ø§Ù„ÙŠÙˆÙ…:</label>
                    <textarea id="bestMoment" rows="2" placeholder="Ù…Ø§ Ø£Ø¬Ù…Ù„ ÙˆØ£Ø³Ø¹Ø¯ Ù„Ø­Ø¸Ø© Ù…Ø±Ø±Øª Ø¨Ù‡Ø§ØŸ"></textarea>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ®Ø·ÙŠØ· -->
            <div class="section-card">
                <h3 class="section-title">ğŸ¯ Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„ØºØ¯</h3>
                
                <div class="input-group">
                    <label>ğŸŒ… Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„ØºØ¯ Ø§Ù„Ø£ÙˆÙ„Ù‰:</label>
                    <textarea id="tomorrowPriority" rows="2" placeholder="Ù…Ø§ Ø£Ù‡Ù… Ø´ÙŠØ¡ ØªØ±ÙŠØ¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„ÙŠÙ‡ ØºØ¯Ø§Ù‹ØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>ğŸ“ˆ Ø´ÙŠØ¡ ÙˆØ§Ø­Ø¯ Ù„ØªØ­Ø³ÙŠÙ†Ù‡ ØºØ¯Ø§Ù‹:</label>
                    <textarea id="improvement" rows="2" placeholder="Ù…Ø§ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„ÙˆØ§Ø­Ø¯ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªØ­Ø³ÙŠÙ†Ù‡ØŸ"></textarea>
                </div>

                <div class="input-group">
                    <label>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù† Ø§Ù„ÙŠÙˆÙ…:</label>
                    <textarea id="additionalNotes" rows="2" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø© Ø£Ùˆ ÙÙƒØ±Ø© Ù…Ù‡Ù…Ø© Ø¹Ù† ÙŠÙˆÙ…ÙƒØŸ"></textarea>
                </div>

                <button class="btn" onclick="saveData()">ğŸ’¾ Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…</button>
            </div>
        </div>

        <!-- Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª -->
        <div class="challenges-section">
            <h3>ğŸ’ª ØªØ­Ø¯ÙŠØ§Øª ÙˆØ¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h3>
            <div id="challengesInsights"></div>
        </div>

        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="section-card full-width-section">
            <h3 class="section-title">ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
            <div class="stats-overview" id="statsOverview"></div>
        </div>

        <!-- Ø§Ù„Ø±Ø¤Ù‰ ÙˆØ§Ù„Ù†ØµØ§Ø¦Ø­ -->
        <div class="insights-section">
            <h3>ğŸ§  Ø±Ø¤Ù‰ Ø°ÙƒÙŠØ© ÙˆÙ†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ©</h3>
            <div id="personalInsights"></div>
        </div>

        <!-- Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ -->
        <div class="section-card full-width-section">
            <h3 class="section-title">ğŸ“Š Ù…Ø®Ø·Ø· ØªØ·ÙˆØ±Ùƒ Ø§Ù„Ø´Ø§Ù…Ù„</h3>
            <div class="chart-container">
                <canvas id="progressChart" width="100%" height="310"></canvas>
            </div>
        </div>

        <!-- Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
        <div class="section-card full-width-section">
            <h3 class="section-title">ğŸ“‹ Ø¢Ø®Ø± Ø§Ù„Ø³Ø¬Ù„Ø§Øª (<span id="dataCount">0</span>)</h3>
            
            <div style="margin-bottom: 20px; text-align: center;">
                <button class="btn btn-secondary" onclick="exportData()">ğŸ“¥ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                <button class="btn btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                <button class="btn btn-success" onclick="generateWeeklyReport()">ğŸ“‹ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ</button>
            </div>
            
            <div id="dataList"></div>
        </div>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø©
        const STORAGE_KEY = 'ultimateLifeTracker';
        const WEEKLY_GOALS_KEY = 'weeklyGoals';
        let darkMode = localStorage.getItem('darkMode') === 'true';
        let reminderInterval;

        // Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØªØ¹Ø¨ÙŠØ±ÙŠØ©
        const emojis = {
            sleep: { 1: 'ğŸ˜µ', 2: 'ğŸ˜´', 3: 'ğŸ˜ª', 4: 'ğŸ˜´', 5: 'ğŸ’¤', 6: 'ğŸ˜Œ', 7: 'ğŸ˜Š', 8: 'ğŸ™‚', 9: 'ğŸ˜„', 10: 'ğŸŒŸ' },
            food: { 1: 'ğŸ¤¢', 2: 'ğŸ˜”', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ½ï¸', 6: 'ğŸ˜Š', 7: 'ğŸ˜‹', 8: 'ğŸ¤¤', 9: 'ğŸ˜', 10: 'ğŸŒŸ' },
            stress: { 1: 'ğŸ˜Œ', 2: 'ğŸ™‚', 3: 'ğŸ˜', 4: 'ğŸ˜Ÿ', 5: 'ğŸ˜°', 6: 'ğŸ˜«', 7: 'ğŸ˜µ', 8: 'ğŸ¤¯', 9: 'ğŸ’¥', 10: 'ğŸš¨' },
            creativity: { 1: 'ğŸš«', 2: 'ğŸ˜', 3: 'ğŸ¤”', 4: 'ğŸ’­', 5: 'ğŸ’¡', 6: 'ğŸ¨', 7: 'ğŸŒŸ', 8: 'âœ¨', 9: 'ğŸ”¥', 10: 'ğŸš€' },
            physicalEnergy: { 1: 'ğŸª«', 2: 'ğŸ˜´', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ”‹', 6: 'âš¡', 7: 'ğŸ’ª', 8: 'ğŸ”¥', 9: 'ğŸš€', 10: 'â­' },
            mentalClarity: { 1: 'ğŸ˜µâ€ğŸ’«', 2: 'ğŸ˜µ', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ§ ', 6: 'ğŸ’­', 7: 'ğŸ”', 8: 'âš¡', 9: 'ğŸŒŸ', 10: 'ğŸ¯' },
            energy: { 1: 'ğŸª«', 2: 'ğŸ”‹', 3: 'ğŸ”‹', 4: 'ğŸ”‹', 5: 'âš¡', 6: 'âš¡', 7: 'ğŸ’ª', 8: 'ğŸ”¥', 9: 'ğŸš€', 10: 'ğŸŒŸ' },
            accomplishment: { 1: 'ğŸ˜”', 2: 'ğŸ˜', 3: 'ğŸ™‚', 4: 'ğŸ˜Š', 5: 'âœ…', 6: 'ğŸ¯', 7: 'ğŸ†', 8: 'ğŸŒŸ', 9: 'ğŸ”¥', 10: 'ğŸš€' },
            mood: { 1: 'ğŸ˜', 2: 'ğŸ˜”', 3: 'ğŸ˜•', 4: 'ğŸ˜', 5: 'ğŸ™‚', 6: 'ğŸ˜Š', 7: 'ğŸ˜„', 8: 'ğŸ˜ƒ', 9: 'ğŸ˜', 10: 'ğŸ¤©' },
            calmness: { 1: 'ğŸ˜°', 2: 'ğŸ˜Ÿ', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ˜Œ', 6: 'ğŸ˜Š', 7: 'ğŸ˜„', 8: 'ğŸ§˜â€â™‚ï¸', 9: 'ğŸ˜‡', 10: 'ğŸŒŸ' },
            satisfaction: { 1: 'ğŸ˜', 2: 'ğŸ˜”', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ˜Š', 6: 'ğŸ˜„', 7: 'ğŸ¤—', 8: 'ğŸ˜', 9: 'ğŸ¥°', 10: 'ğŸŒŸ' },
            social: { 1: 'ğŸ˜', 2: 'ğŸ˜”', 3: 'ğŸ˜', 4: 'ğŸ™‚', 5: 'ğŸ˜Š', 6: 'ğŸ˜„', 7: 'ğŸ¤—', 8: 'ğŸ˜', 9: 'ğŸ¥°', 10: 'ğŸŒŸ' }
        };

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ…
        if (darkMode) {
            document.body.classList.add('dark-mode');
        }

        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        document.getElementById('date').valueAsDate = new Date();

        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
        function startSmartReminders() {
            const reminders = [
                { time: 2 * 60 * 60 * 1000, message: "ğŸ’§ Ø­Ø§Ù† ÙˆÙ‚Øª Ø´Ø±Ø¨ ÙƒÙˆØ¨ Ù…Ø§Ø¡!", action: "water" }, // ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ†
                { time: 3 * 60 * 60 * 1000, message: "ğŸš¶â€â™‚ï¸ ÙˆÙ‚Øª Ø§Ù„Ù‚ÙŠØ§Ù… ÙˆØ§Ù„Ø­Ø±ÙƒØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹!", action: "movement" }, // ÙƒÙ„ 3 Ø³Ø§Ø¹Ø§Øª
                { time: 20 * 60 * 60 * 1000, message: "ğŸ“ Ù„Ø§ ØªÙ†Ø³ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ÙŠÙˆÙ…Ùƒ!", action: "logging" } // ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¡
            ];

            reminders.forEach(reminder => {
                setInterval(() => {
                    showReminder(reminder.message, reminder.action);
                }, reminder.time);
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„ØªØ°ÙƒÙŠØ±
        function showReminder(message, action) {
            const popup = document.getElementById('reminderPopup');
            const text = document.getElementById('reminderText');
            text.textContent = message;
            popup.dataset.action = action;
            popup.classList.add('show');
            
            // Ø¥Ø®ÙØ§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†
            setTimeout(() => {
                if (popup.classList.contains('show')) {
                    closeReminder();
                }
            }, 10000);
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒÙŠØ±
        function closeReminder() {
            document.getElementById('reminderPopup').classList.remove('show');
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ°ÙƒÙŠØ±
        function handleReminderAction() {
            const action = document.getElementById('reminderPopup').dataset.action;
            
            switch(action) {
                case 'water':
                    const waterInput = document.getElementById('waterGlasses');
                    waterInput.value = parseInt(waterInput.value || 0) + 1;
                    break;
                case 'movement':
                    showAlert('Ø±Ø§Ø¦Ø¹! Ù„Ø§ ØªÙ†Ø³ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø· ğŸƒâ€â™‚ï¸', 'success');
                    break;
                case 'logging':
                    window.scrollTo(0, 0);
                    break;
            }
            
            calculateDailyScore();
            closeReminder();
        }

        // Ø­ÙØ¸ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
        function saveWeeklyGoals() {
            const goals = {
                goal1: document.getElementById('weeklyGoal1').value.trim(),
                goal2: document.getElementById('weeklyGoal2').value.trim(),
                goal3: document.getElementById('weeklyGoal3').value.trim(),
                weekStart: getWeekStart(new Date()),
                timestamp: new Date().toISOString()
            };

            localStorage.setItem(WEEKLY_GOALS_KEY, JSON.stringify(goals));
            showAlert('ØªÙ… Ø­ÙØ¸ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹! ğŸ¯', 'success');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
        function loadWeeklyGoals() {
            try {
                const goals = JSON.parse(localStorage.getItem(WEEKLY_GOALS_KEY));
                if (goals && goals.weekStart === getWeekStart(new Date())) {
                    document.getElementById('weeklyGoal1').value = goals.goal1 || '';
                    document.getElementById('weeklyGoal2').value = goals.goal2 || '';
                    document.getElementById('weeklyGoal3').value = goals.goal3 || '';
                }
            } catch (error) {
                console.log('No weekly goals found');
            }
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
        function getWeekStart(date) {
            const d = new Date(date);
            const day = d.getDay();
            const diff = d.getDate() - day;
            return new Date(d.setDate(diff)).toISOString().split('T')[0];
        }

        // Ø­Ø³Ø§Ø¨ BMI
        function calculateBMI() {
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value) / 100; // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù…ØªØ±

            if (weight && height && weight > 0 && height > 0) {
                const bmi = weight / (height * height);
                const bmiDisplay = document.getElementById('bmiDisplay');
                const bmiValue = document.getElementById('bmiValue');
                const bmiCategory = document.getElementById('bmiCategory');

                bmiValue.textContent = bmi.toFixed(1);
                
                let category = '';
                if (bmi < 18.5) {
                    category = 'Ù†Ø­ÙŠÙ';
                    bmiDisplay.style.background = 'linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)';
                } else if (bmi < 25) {
                    category = 'ÙˆØ²Ù† Ù…Ø«Ø§Ù„ÙŠ âœ…';
                    bmiDisplay.style.background = 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)';
                } else if (bmi < 30) {
                    category = 'Ø²ÙŠØ§Ø¯Ø© ÙˆØ²Ù†';
                    bmiDisplay.style.background = 'linear-gradient(135deg, #fdcb6e 0%, #e17055 100%)';
                } else {
                    category = 'Ø³Ù…Ù†Ø©';
                    bmiDisplay.style.background = 'linear-gradient(135deg, #ff4757 0%, #ff3742 100%)';
                }

                bmiCategory.textContent = category;
                bmiDisplay.style.display = 'block';
                
                return bmi;
            } else {
                document.getElementById('bmiDisplay').style.display = 'none';
                return 0;
            }
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±Ø§Øª
        function setupSliders() {
            const sliders = [
                { id: 'sleepQuality', value: 'sleepQualityValue', emoji: 'sleepQualityEmoji', type: 'sleep' },
                { id: 'stressLevel', value: 'stressValue', emoji: 'stressEmoji', type: 'stress' },
                { id: 'creativityLevel', value: 'creativityValue', emoji: 'creativityEmoji', type: 'creativity' },
                { id: 'foodQuality', value: 'foodQualityValue', emoji: 'foodQualityEmoji', type: 'food' },
                { id: 'physicalEnergy', value: 'physicalEnergyValue', emoji: 'physicalEnergyEmoji', type: 'physicalEnergy' },
                { id: 'mentalClarity', value: 'mentalClarityValue', emoji: 'mentalClarityEmoji', type: 'mentalClarity' },
                { id: 'energyLevel', value: 'energyValue', emoji: 'energyEmoji', type: 'energy' },
                { id: 'accomplishment', value: 'accomplishmentValue', emoji: 'accomplishmentEmoji', type: 'accomplishment' },
                { id: 'overallMood', value: 'moodValue', emoji: 'moodEmoji', type: 'mood' },
                { id: 'calmness', value: 'calmnessValue', emoji: 'calmnessEmoji', type: 'calmness' },
                { id: 'satisfaction', value: 'satisfactionValue', emoji: 'satisfactionEmoji', type: 'satisfaction' },
                { id: 'socialQuality', value: 'socialQualityValue', emoji: 'socialQualityEmoji', type: 'social' }
            ];

            sliders.forEach(({ id, value, emoji, type }) => {
                const slider = document.getElementById(id);
                if (slider) {
                    slider.addEventListener('input', function() {
                        const val = this.value;
                        document.getElementById(value).textContent = val;
                        document.getElementById(emoji).textContent = emojis[type][val];
                        calculateDailyScore();
                    });
                }
            });
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ ØªØªØ¨Ø¹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª
        function setupMealTracking() {
            document.querySelectorAll('.meal-item').forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    calculateDailyScore();
                });
            });
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ø§Ø¯Ø§Øª
        function setupHabitTracking() {
            document.querySelectorAll('.habit-item').forEach(item => {
                item.addEventListener('click', function() {
                    const checkbox = this.querySelector('.habit-checkbox');
                    checkbox.checked = !checkbox.checked;
                    this.classList.toggle('checked', checkbox.checked);
                    calculateDailyScore();
                });
            });
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function calculateDailyScore() {
            // Ù†Ù‚Ø§Ø· Ø§Ù„Ù†ÙˆÙ… (25 Ù†Ù‚Ø·Ø©)
            const sleepQuality = parseInt(document.getElementById('sleepQuality').value);
            const bedTime = document.getElementById('bedTime').value;
            const wakeTime = document.getElementById('wakeTime').value;
            let sleepHours = 0;
            
            if (bedTime && wakeTime) {
                const bed = new Date(`2000-01-01 ${bedTime}`);
                let wake = new Date(`2000-01-01 ${wakeTime}`);
                if (wake < bed) wake.setDate(wake.getDate() + 1);
                sleepHours = (wake - bed) / (1000 * 60 * 60);
            }
            
            const sleepHoursScore = sleepHours >= 7 && sleepHours <= 9 ? 10 : Math.max(0, 10 - Math.abs(sleepHours - 8) * 2);
            const sleepScore = Math.round(((sleepQuality * 1.5 + sleepHoursScore) / 25) * 25);

            // Ù†Ù‚Ø§Ø· Ø§Ù„ØµØ­Ø© (25 Ù†Ù‚Ø·Ø©) - Ù…Ø¹ BMI
            const waterGlasses = parseInt(document.getElementById('waterGlasses').value) || 0;
            const activityEstimate = parseInt(document.getElementById('activityEstimate').value);
            const exerciseToday = parseInt(document.getElementById('exerciseToday').value);
            const physicalEnergy = parseInt(document.getElementById('physicalEnergy').value);
            const foodQuality = parseInt(document.getElementById('foodQuality').value);
            const mealsCount = document.querySelectorAll('.meal-item.selected').length;
            const bmi = calculateBMI();
            
            const waterPoints = Math.min(waterGlasses * 1.25, 10);
            const bmiPoints = bmi > 0 ? (bmi >= 18.5 && bmi <= 25 ? 5 : Math.max(0, 5 - Math.abs(bmi - 22) * 0.5)) : 0;
            const healthScore = Math.round(((waterPoints + activityEstimate * 2 + exerciseToday * 2 + physicalEnergy + foodQuality + mealsCount + bmiPoints) / 40) * 25);

            // Ù†Ù‚Ø§Ø· Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© (25 Ù†Ù‚Ø·Ø©)
            const achievements = [
                document.getElementById('achievement1').value.trim(),
                document.getElementById('achievement2').value.trim(),
                document.getElementById('achievement3').value.trim()
            ].filter(a => a.length > 0).length;
            
            const focusLevel = parseInt(document.getElementById('focusLevel').value);
            const mentalClarity = parseInt(document.getElementById('mentalClarity').value);
            const energyLevel = parseInt(document.getElementById('energyLevel').value);
            const accomplishment = parseInt(document.getElementById('accomplishment').value);
            const creativityLevel = parseInt(document.getElementById('creativityLevel').value);
            const comfortZone = parseInt(document.getElementById('comfortZone').value);
            
            const productivityScore = Math.round(((achievements * 4 + focusLevel * 2 + mentalClarity + energyLevel + accomplishment + creativityLevel + comfortZone) / 30) * 25);

            // Ù†Ù‚Ø§Ø· Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ© (25 Ù†Ù‚Ø·Ø©)
            const overallMood = parseInt(document.getElementById('overallMood').value);
            const calmness = parseInt(document.getElementById('calmness').value);
            const satisfaction = parseInt(document.getElementById('satisfaction').value);
            const socialQuality = parseInt(document.getElementById('socialQuality').value);
            const screenTime = parseInt(document.getElementById('screenTime').value);
            const stressLevel = 11 - parseInt(document.getElementById('stressLevel').value); // Ø¹ÙƒØ³ Ø§Ù„Ù‚ÙŠÙ…Ø© (Ø£Ù‚Ù„ ØªÙˆØªØ± = Ù†Ù‚Ø§Ø· Ø£ÙƒØ«Ø±)
            
            const socialConnections = document.querySelectorAll('[data-habit] .habit-checkbox:checked').length;
            const learningActivities = document.querySelectorAll('[data-learning] .habit-checkbox:checked').length;
            const spiritualActivities = document.querySelectorAll('[data-spiritual] .habit-checkbox:checked').length;
            
            const gratitude = document.getElementById('gratitude').value.trim().length > 0 ? 2 : 0;
            const bestMoment = document.getElementById('bestMoment').value.trim().length > 0 ? 2 : 0;
            const challengeHandling = document.getElementById('challengeResponse').value.trim().length > 0 ? 3 : 0;
            
            const wellbeingScore = Math.round(((overallMood + calmness + satisfaction + socialQuality + screenTime + stressLevel + socialConnections + learningActivities + spiritualActivities + gratitude + bestMoment + challengeHandling) / 50) * 25);

            // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
            const totalScore = Math.min(sleepScore + healthScore + productivityScore + wellbeingScore, 100);

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            document.getElementById('sleepScore').textContent = sleepScore;
            document.getElementById('healthScore').textContent = healthScore;
            document.getElementById('productivityScore').textContent = productivityScore;
            document.getElementById('wellbeingScore').textContent = wellbeingScore;
            document.getElementById('totalScore').textContent = totalScore + '%';
            document.getElementById('mainProgress').style.width = totalScore + '%';

            updateDailyOverview(totalScore);
            
            return {
                total: totalScore,
                sleep: sleepScore,
                health: healthScore,
                productivity: productivityScore,
                wellbeing: wellbeingScore
            };
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        function updateDailyOverview(score) {
            const overview = document.getElementById('dailyOverview');
            let message = '';
            let badge = '';
            
            if (score >= 90) {
                message = 'ğŸ† ÙŠÙˆÙ… Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠ! Ø£Ù†Øª ÙÙŠ Ø§Ù„Ù‚Ù…Ø©!';
                badge = 'ğŸ‘‘ Ù…Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…';
            } else if (score >= 80) {
                message = 'ğŸŒŸ ÙŠÙˆÙ… Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹! Ø£Ø¯Ø§Ø¡ Ù…ØªÙ…ÙŠØ²!';
                badge = 'â­ Ù†Ø¬Ù… Ø§Ù„ÙŠÙˆÙ…';
            } else if (score >= 70) {
                message = 'ğŸ˜Š ÙŠÙˆÙ… Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! Ø§Ø³ØªÙ…Ø± Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø£Ø¯Ø§Ø¡!';
                badge = 'ğŸ¯ Ù…Ø­ØªØ±Ù';
            } else if (score >= 60) {
                message = 'ğŸŒ± ÙŠÙˆÙ… Ø¬ÙŠØ¯ØŒ ÙŠÙ…ÙƒÙ† ØªØ­Ø³ÙŠÙ†Ù‡ Ø£ÙƒØ«Ø±!';
                badge = 'ğŸ“ˆ ÙÙŠ ØªØ·ÙˆØ±';
            } else if (score >= 40) {
                message = 'ğŸ’ª Ø§Ø¨Ø¯Ø£ Ø¨Ø®Ø·ÙˆØ§Øª ØµØºÙŠØ±Ø© Ù„Ù„ØªØ­Ø³Ù†!';
                badge = 'ğŸŒ± Ù…Ø¨ØªØ¯Ø¦';
            } else {
                message = 'ğŸš€ ØºØ¯Ø§Ù‹ Ø³ÙŠÙƒÙˆÙ† Ø£ÙØ¶Ù„! Ù„Ø§ ØªØ³ØªØ³Ù„Ù…!';
                badge = 'ğŸ’ª Ù…Ù‚Ø§ØªÙ„';
            }
            
            overview.innerHTML = `
                <strong>${message}</strong><br>
                <div class="achievements-badge">${badge}</div>
                Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©: <strong>${score}%</strong>
            `;
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†
        function saveData() {
            const date = document.getElementById('date').value;
            
            if (!date) {
                showAlert('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ§Ø±ÙŠØ®!', 'warning');
                return;
            }

            const scores = calculateDailyScore();
            
            const entry = {
                id: Date.now(),
                date: date,
                
                // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                weight: parseFloat(document.getElementById('weight').value) || null,
                height: parseFloat(document.getElementById('height').value) || null,
                bmi: calculateBMI(),
                
                // Ø§Ù„Ù†ÙˆÙ…
                bedTime: document.getElementById('bedTime').value,
                wakeTime: document.getElementById('wakeTime').value,
                sleepQuality: parseInt(document.getElementById('sleepQuality').value),
                
                // Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø¶ØºÙˆØ·
                stressLevel: parseInt(document.getElementById('stressLevel').value),
                biggestChallenge: document.getElementById('biggestChallenge').value.trim(),
                challengeResponse: document.getElementById('challengeResponse').value.trim(),
                creativityLevel: parseInt(document.getElementById('creativityLevel').value),
                comfortZone: parseInt(document.getElementById('comfortZone').value),
                
                // Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ø´Ø±Ø§Ø¨
                waterGlasses: parseInt(document.getElementById('waterGlasses').value) || 0,
                coffeeCount: parseInt(document.getElementById('coffeeCount').value) || 0,
                teaCount: parseInt(document.getElementById('teaCount').value) || 0,
                foodQuality: parseInt(document.getElementById('foodQuality').value),
                meals: Array.from(document.querySelectorAll('.meal-item.selected')).map(item => item.dataset.meal),
                
                // Ø§Ù„Ù†Ø´Ø§Ø·
                activityEstimate: parseInt(document.getElementById('activityEstimate').value),
                exerciseToday: parseInt(document.getElementById('exerciseToday').value),
                physicalEnergy: parseInt(document.getElementById('physicalEnergy').value),
                
                // Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©
                achievements: [
                    document.getElementById('achievement1').value.trim(),
                    document.getElementById('achievement2').value.trim(),
                    document.getElementById('achievement3').value.trim()
                ].filter(a => a.length > 0),
                focusLevel: parseInt(document.getElementById('focusLevel').value),
                mentalClarity: parseInt(document.getElementById('mentalClarity').value),
                energyLevel: parseInt(document.getElementById('energyLevel').value),
                accomplishment: parseInt(document.getElementById('accomplishment').value),
                
                // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
                screenTime: parseInt(document.getElementById('screenTime').value),
                socialConnections: Array.from(document.querySelectorAll('[data-habit] .habit-checkbox:checked')).map(cb => cb.parentElement.dataset.habit),
                socialQuality: parseInt(document.getElementById('socialQuality').value),
                
                // Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠ
                todayLearning: document.getElementById('todayLearning').value.trim(),
                learningActivities: Array.from(document.querySelectorAll('[data-learning] .habit-checkbox:checked')).map(cb => cb.parentElement.dataset.learning),
                spiritualActivities: Array.from(document.querySelectorAll('[data-spiritual] .habit-checkbox:checked')).map(cb => cb.parentElement.dataset.spiritual),
                
                // Ø§Ù„Ù…Ø²Ø§Ø¬
                overallMood: parseInt(document.getElementById('overallMood').value),
                calmness: parseInt(document.getElementById('calmness').value),
                satisfaction: parseInt(document.getElementById('satisfaction').value),
                gratitude: document.getElementById('gratitude').value.trim(),
                bestMoment: document.getElementById('bestMoment').value.trim(),
                
                // Ø§Ù„ØªØ®Ø·ÙŠØ·
                tomorrowPriority: document.getElementById('tomorrowPriority').value.trim(),
                improvement: document.getElementById('improvement').value.trim(),
                additionalNotes: document.getElementById('additionalNotes').value.trim(),
                
                // Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                scores: scores,
                
                timestamp: new Date().toISOString()
            };

            let data = getSavedData();
            const existingIndex = data.findIndex(item => item.date === date);
            
            if (existingIndex !== -1) {
                if (confirm('ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ®. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ØŸ')) {
                    data[existingIndex] = entry;
                } else {
                    return;
                }
            } else {
                data.push(entry);
            }

            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            showAlert('ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰', 'success');
            
            updateDisplay();
            clearForm();
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        function getSavedData() {
            try {
                return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            } catch {
                return [];
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            document.querySelector('.container').insertBefore(alertDiv, document.querySelector('.weekly-goals'));
            
            setTimeout(() => alertDiv.remove(), 4000);
        }

        // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶
        function updateDisplay() {
            displayStats();
            displayData();
            generatePersonalInsights();
            displayChallengesInsights();
            updateChart();
        }

        // Ø¹Ø±Ø¶ Ø±Ø¤Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
        function displayChallengesInsights() {
            const data = getSavedData();
            const challengesDiv = document.getElementById('challengesInsights');

            if (data.length === 0) {
                challengesDiv.innerHTML = '<div class="challenge-item">ğŸ¯ Ø§Ø¨Ø¯Ø£ Ø¨ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù†Ø±Ù‰ ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª!</div>';
                return;
            }

            const recentData = data.slice(-7);
            const insights = [];

            // ØªØ­Ù„ÙŠÙ„ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØªØ±
            const avgStress = recentData.reduce((sum, entry) => sum + (entry.stressLevel || 5), 0) / recentData.length;
            if (avgStress > 7) {
                insights.push('âš ï¸ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØªØ± Ù…Ø±ØªÙØ¹ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹. Ø¬Ø±Ø¨ ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªÙ†ÙØ³ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡');
            } else if (avgStress < 4) {
                insights.push('ğŸ˜Œ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØªØ± Ù…Ù†Ø®ÙØ¶ Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª ØªØ¯ÙŠØ± Ø§Ù„Ø¶ØºÙˆØ· Ø¨Ø´ÙƒÙ„ Ø±Ø§Ø¦Ø¹');
            }

            // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹
            const avgCreativity = recentData.reduce((sum, entry) => sum + (entry.creativityLevel || 5), 0) / recentData.length;
            if (avgCreativity > 7) {
                insights.push('ğŸ¨ Ø¥Ø¨Ø¯Ø§Ø¹Ùƒ ÙÙŠ Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙŠØ§ØªÙ‡! Ø§Ø³ØªØºÙ„ Ù‡Ø°Ù‡ Ø§Ù„ÙØªØ±Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©');
            } else if (avgCreativity < 4) {
                insights.push('ğŸ’¡ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙŠØ­ØªØ§Ø¬ ØªØ­ÙÙŠØ². Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø© Ø£Ùˆ ØªØ¹Ù„Ù… Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯');
            }

            // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©
            const comfortZoneSteps = recentData.filter(entry => (entry.comfortZone || 0) >= 2).length;
            if (comfortZoneSteps >= 5) {
                insights.push('ğŸš€ Ø±Ø§Ø¦Ø¹! Ø£Ù†Øª ØªØªØ­Ø¯Ù‰ Ù†ÙØ³Ùƒ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙˆØªÙ†Ù…Ùˆ ÙƒÙ„ ÙŠÙˆÙ…');
            } else if (comfortZoneSteps < 2) {
                insights.push('ğŸŒ± Ø­Ø§ÙˆÙ„ ØªØ­Ø¯ÙŠ Ù†ÙØ³Ùƒ Ø£ÙƒØ«Ø±. Ø§Ù„Ù†Ù…Ùˆ ÙŠØ­Ø¯Ø« Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©');
            }

            // Ø£ÙƒØ«Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ØªÙƒØ±Ø§Ø±Ø§Ù‹
            const challenges = recentData
                .map(entry => entry.biggestChallenge)
                .filter(c => c && c.length > 0);
            
            if (challenges.length > 0) {
                insights.push('ğŸ“ Ø£ÙƒØ«Ø± ØªØ­Ø¯ÙŠØ§ØªÙƒ ØªØªØ¹Ù„Ù‚ Ø¨Ù€: ' + (challenges[0] || 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª'));
            }

            challengesDiv.innerHTML = insights.slice(0, 4).map(insight => 
                `<div class="challenge-item">${insight}</div>`
            ).join('');
        }

        // Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ
        function generateWeeklyReport() {
            const data = getSavedData();
            const weekData = data.slice(-7);
            
            if (weekData.length < 3) {
                showAlert('ØªØ­ØªØ§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙƒØ«Ø± Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠ', 'warning');
                return;
            }

            const report = {
                period: `${weekData[0].date} Ø¥Ù„Ù‰ ${weekData[weekData.length - 1].date}`,
                totalDays: weekData.length,
                averages: {
                    totalScore: (weekData.reduce((sum, entry) => sum + (entry.scores?.total || 0), 0) / weekData.length).toFixed(1),
                    sleep: (weekData.reduce((sum, entry) => sum + (entry.sleepQuality || 0), 0) / weekData.length).toFixed(1),
                    stress: (weekData.reduce((sum, entry) => sum + (entry.stressLevel || 0), 0) / weekData.length).toFixed(1),
                    mood: (weekData.reduce((sum, entry) => sum + (entry.overallMood || 0), 0) / weekData.length).toFixed(1),
                    water: Math.round(weekData.reduce((sum, entry) => sum + (entry.waterGlasses || 0), 0) / weekData.length)
                },
                achievements: weekData.reduce((sum, entry) => sum + (entry.achievements?.length || 0), 0),
                bestDay: weekData.reduce((best, current) => 
                    (current.scores?.total || 0) > (best.scores?.total || 0) ? current : best
                ),
                challenges: weekData.filter(entry => entry.biggestChallenge && entry.biggestChallenge.length > 0).length,
                learningDays: weekData.filter(entry => entry.todayLearning && entry.todayLearning.length > 0).length
            };

            const reportHTML = `
                <div style="background: white; padding: 20px; border-radius: 15px; margin: 20px 0; color: #333;">
                    <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">ğŸ“‹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h3>
                    <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${report.period}</p>
                    <p><strong>Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø³Ø¬Ù„Ø©:</strong> ${report.totalDays}/7</p>
                    
                    <h4 style="color: #667eea; margin: 15px 0 10px 0;">ğŸ“Š Ø§Ù„Ù…ØªÙˆØ³Ø·Ø§Øª:</h4>
                    <ul>
                        <li>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${report.averages.totalScore}%</li>
                        <li>Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…: ${report.averages.sleep}/10</li>
                        <li>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØªØ±: ${report.averages.stress}/10</li>
                        <li>Ø§Ù„Ù…Ø²Ø§Ø¬ Ø§Ù„Ø¹Ø§Ù…: ${report.averages.mood}/10</li>
                        <li>Ø£ÙƒÙˆØ§Ø¨ Ø§Ù„Ù…Ø§Ø¡ ÙŠÙˆÙ…ÙŠØ§Ù‹: ${report.averages.water}</li>
                    </ul>
                    
                    <h4 style="color: #667eea; margin: 15px 0 10px 0;">ğŸ† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª:</h4>
                    <ul>
                        <li>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª: ${report.achievements}</li>
                        <li>Ø£ÙŠØ§Ù… Ø§Ù„ØªØ¹Ù„Ù…: ${report.learningDays}/${report.totalDays}</li>
                        <li>Ø£ÙŠØ§Ù… Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª: ${report.challenges}/${report.totalDays}</li>
                        <li>Ø£ÙØ¶Ù„ ÙŠÙˆÙ…: ${new Date(report.bestDay.date).toLocaleDateString('ar-SA')} (${report.bestDay.scores?.total || 0}%)</li>
                    </ul>
                    
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <strong>ğŸ’¡ ØªÙˆØµÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹:</strong><br>
                        ${report.averages.totalScore > 75 ? 
                            'Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²! Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø§Ø¦Ø¹.' : 
                            report.averages.totalScore > 60 ? 
                                'Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ØŒ Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ÙˆÙ… ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØªØ±.' :
                                'Ø§Ø¨Ø¯Ø£ Ø¨ØªØ­Ø³ÙŠÙ† Ø¹Ø§Ø¯Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙØ¶Ù„.'
                        }
                    </div>
                </div>
            `;

            // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ù„ØªÙ‚Ø±ÙŠØ±
            const reportWindow = window.open('', '_blank', 'width=600,height=800,scrollbars=yes');
            reportWindow.document.write(`
                <html dir="rtl">
                <head><title>Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</title>
                <style>body{font-family:Arial;padding:20px;}</style></head>
                <body>${reportHTML}</body>
                </html>
            `);
            
            showAlert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ! ğŸ“‹', 'success');
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function displayStats() {
            const data = getSavedData();
            const statsDiv = document.getElementById('statsOverview');

            if (data.length === 0) {
                statsDiv.innerHTML = '<div class="stat-card"><div class="stat-number">0</div><div class="stat-label">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ÙŠÙˆÙ…!</div></div>';
                return;
            }

            const totalDays = data.length;
            const avgTotalScore = (data.reduce((sum, entry) => sum + (entry.scores?.total || 0), 0) / totalDays).toFixed(1);
            const avgBMI = data.filter(entry => entry.bmi > 0).length > 0 ? 
                (data.filter(entry => entry.bmi > 0).reduce((sum, entry) => sum + entry.bmi, 0) / data.filter(entry => entry.bmi > 0).length).toFixed(1) : 0;
            
            const avgStress = (data.reduce((sum, entry) => sum + (entry.stressLevel || 5), 0) / totalDays).toFixed(1);
            const avgCreativity = (data.reduce((sum, entry) => sum + (entry.creativityLevel || 5), 0) / totalDays).toFixed(1);
            const totalChallenges = data.filter(entry => entry.biggestChallenge && entry.biggestChallenge.length > 0).length;
            const comfortZoneSteps = data.filter(entry => (entry.comfortZone || 0) >= 2).length;
            
            const totalWater = data.reduce((sum, entry) => sum + (entry.waterGlasses || 0), 0);
            const totalExercise = data.filter(entry => (entry.exerciseToday || 0) > 0).length;
            const totalAchievements = data.reduce((sum, entry) => sum + (entry.achievements?.length || 0), 0);
            const learningDays = data.filter(entry => entry.todayLearning && entry.todayLearning.length > 0).length;

            const bestDay = data.reduce((best, current) => 
                (current.scores?.total || 0) > (best.scores?.total || 0) ? current : best
            );

            const recentWeek = data.slice(-7);
            const weeklyAvg = recentWeek.length > 0 ? 
                (recentWeek.reduce((sum, entry) => sum + (entry.scores?.total || 0), 0) / recentWeek.length).toFixed(1) : 0;

            const excellentDays = data.filter(d => (d.scores?.total || 0) >= 80).length;
            const weightEntries = data.filter(entry => entry.weight > 0);
            const weightChange = weightEntries.length > 1 ? 
                (weightEntries[weightEntries.length - 1].weight - weightEntries[0].weight).toFixed(1) : 0;

            statsDiv.innerHTML = `
                <div class="stat-card">
                    <div class="stat-number">${totalDays}</div>
                    <div class="stat-label">Ø£ÙŠØ§Ù… Ù…Ø³Ø¬Ù„Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${avgTotalScore}%</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${avgBMI > 0 ? avgBMI : '-'}</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· BMI</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${weightChange}${weightChange != 0 ? 'ÙƒØ¬Ù…' : ''}</div>
                    <div class="stat-label">ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ²Ù†</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${avgStress}/10</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙˆØªØ±</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${avgCreativity}/10</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalChallenges}</div>
                    <div class="stat-label">ØªØ­Ø¯ÙŠØ§Øª ÙˆØ§Ø¬Ù‡ØªÙ‡Ø§</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${comfortZoneSteps}</div>
                    <div class="stat-label">Ù…Ø±Ø§Øª Ø®Ø±ÙˆØ¬ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalWater}</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£ÙƒÙˆØ§Ø¨ Ø§Ù„Ù…Ø§Ø¡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalExercise}</div>
                    <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„Ø±ÙŠØ§Ø¶Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalAchievements}</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${learningDays}</div>
                    <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„ØªØ¹Ù„Ù…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${bestDay.scores?.total || 0}%</div>
                    <div class="stat-label">Ø£ÙØ¶Ù„ ÙŠÙˆÙ…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${weeklyAvg}%</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${excellentDays}</div>
                    <div class="stat-label">Ø£ÙŠØ§Ù… Ù…Ù…ØªØ§Ø²Ø© (80%+)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${Math.round((excellentDays / totalDays) * 100)}%</div>
                    <div class="stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ù…ØªØ§Ø²Ø©</div>
                </div>
            `;
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function generatePersonalInsights() {
            const data = getSavedData();
            const insightsDiv = document.getElementById('personalInsights');

            if (data.length < 3) {
                insightsDiv.innerHTML = '<div class="insight-item">ğŸ“Š Ø³Ø¬Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø¹Ø¯Ø© Ø£ÙŠØ§Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø¤Ù‰ Ø°ÙƒÙŠØ© ÙˆÙ†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ©!</div>';
                return;
            }

            const insights = [];
            const recentData = data.slice(-7);

            // ØªØ­Ù„ÙŠÙ„ BMI ÙˆØ§Ù„ÙˆØ²Ù†
            const weightEntries = data.filter(entry => entry.weight > 0);
            if (weightEntries.length > 1) {
                const weightChange = weightEntries[weightEntries.length - 1].weight - weightEntries[0].weight;
                if (Math.abs(weightChange) > 0.5) {
                    insights.push(`âš–ï¸ ${weightChange > 0 ? 'Ø²Ø§Ø¯' : 'Ù†Ù‚Øµ'} ÙˆØ²Ù†Ùƒ ${Math.abs(weightChange).toFixed(1)} ÙƒØ¬Ù… Ù…Ù†Ø° Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©`);
                }
            }

            const avgBMI = recentData.filter(entry => entry.bmi > 0).length > 0 ? 
                recentData.filter(entry => entry.bmi > 0).reduce((sum, entry) => sum + entry.bmi, 0) / recentData.filter(entry => entry.bmi > 0).length : 0;
            
            if (avgBMI > 0) {
                if (avgBMI >= 18.5 && avgBMI <= 25) {
                    insights.push('âœ… Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… ÙÙŠ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ - Ù…Ù…ØªØ§Ø²!');
                } else if (avgBMI > 25) {
                    insights.push('ğŸ“‰ Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… Ù…Ø±ØªÙØ¹ Ù‚Ù„ÙŠÙ„Ø§Ù‹. Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ÙˆØ§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ØµØ­ÙŠ');
                }
            }

            // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙˆÙ… Ø§Ù„Ù…Ø­Ø³Ù†
            const sleepEntries = recentData.filter(entry => entry.bedTime && entry.wakeTime);
            if (sleepEntries.length > 0) {
                const avgSleepQuality = sleepEntries.reduce((sum, entry) => sum + entry.sleepQuality, 0) / sleepEntries.length;
                if (avgSleepQuality < 6) {
                    insights.push('ğŸ˜´ Ø¬ÙˆØ¯Ø© Ù†ÙˆÙ…Ùƒ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†. Ø¬Ø±Ø¨ Ø±ÙˆØªÙŠÙ† Ù†ÙˆÙ… Ø«Ø§Ø¨Øª ÙˆØªØ¬Ù†Ø¨ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…');
                } else if (avgSleepQuality > 8) {
                    insights.push('ğŸŒŸ Ù†ÙˆÙ…Ùƒ Ù…Ù…ØªØ§Ø²! Ù‡Ø°Ø§ ÙŠÙØ³Ø± Ø·Ø§Ù‚ØªÙƒ Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ÙˆÙ…Ø²Ø§Ø¬Ùƒ Ø§Ù„Ø¬ÙŠØ¯');
                }
            }

            // Ø¨Ù‚ÙŠØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª...
            // [ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ù‡Ù†Ø§]

            insightsDiv.innerHTML = insights.slice(0, 6).map(insight => 
                `<div class="insight-item">${insight}</div>`
            ).join('');
        }

        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (updateChart, displayData, Ø¥Ù„Ø®) ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ø¹ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø·ÙÙŠÙØ©
        
        // Ø±Ø³Ù… Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ù…Ø­Ø³Ù†
        function updateChart() {
            const data = getSavedData().slice(-14); // Ø¢Ø®Ø± 14 ÙŠÙˆÙ…
            const canvas = document.getElementById('progressChart');
            const ctx = canvas.getContext('2d');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (data.length === 0) {
                ctx.fillStyle = '#666';
                ctx.font = '18px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Ø³ÙŠØ¸Ù‡Ø± Ù…Ø®Ø·Ø· ØªØ·ÙˆØ±Ùƒ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¹Ø¯Ø© Ø£ÙŠØ§Ù…', canvas.width/2, canvas.height/2);
                return;
            }

            const padding = 50;
            const chartWidth = canvas.width - 2 * padding;
            const chartHeight = canvas.height - 2 * padding;

            // Ø±Ø³Ù… Ø§Ù„Ù…Ø­Ø§ÙˆØ±
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();

            // Ø±Ø³Ù… Ø®Ø·ÙˆØ· Ù…Ø®ØªÙ„ÙØ© Ù„Ù„Ù†ØªØ§Ø¦Ø¬
            const colors = {
                total: '#667eea',
                sleep: '#00b894',
                health: '#fd79a8',
                productivity: '#fdcb6e',
                wellbeing: '#74b9ff',
                stress: '#ff4757' // Ø®Ø· Ø§Ù„ØªÙˆØªØ± (Ù…Ù‚Ù„ÙˆØ¨)
            };

            // Ø±Ø³Ù… Ø§Ù„Ø®Ø·ÙˆØ·
            Object.keys(colors).forEach(scoreType => {
                if (data.length > 1) {
                    ctx.strokeStyle = colors[scoreType];
                    ctx.lineWidth = scoreType === 'total' ? 4 : 2;
                    ctx.beginPath();

                    data.forEach((entry, index) => {
                        let score;
                        if (scoreType === 'total') {
                            score = entry.scores?.total || 0;
                        } else if (scoreType === 'stress') {
                            score = 100 - ((entry.stressLevel || 5) * 10); // Ø¹ÙƒØ³ Ø§Ù„ØªÙˆØªØ±
                        } else {
                            score = entry.scores?.[scoreType] || 0;
                        }
                        
                        const x = padding + (index / (data.length - 1)) * chartWidth;
                        const y = canvas.height - padding - (score / 100) * chartHeight;
                        
                        if (index === 0) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    });
                    ctx.stroke();

                    // Ø±Ø³Ù… Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ù„Ø®Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙ‚Ø·
                    if (scoreType === 'total') {
                        ctx.fillStyle = colors[scoreType];
                        data.forEach((entry, index) => {
                            const score = entry.scores?.total || 0;
                            const x = padding + (index / (data.length - 1)) * chartWidth;
                            const y = canvas.height - padding - (score / 100) * chartHeight;
                            
                            ctx.beginPath();
                            ctx.arc(x, y, 6, 0, 2 * Math.PI);
                            ctx.fill();
                        });
                    }
                }
            });

            // Ø¥Ø¶Ø§ÙØ© ØªØ³Ù…ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ÙˆØ±
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'right';
            
            for (let i = 0; i <= 100; i += 25) {
                const y = canvas.height - padding - (i / 100) * chartHeight;
                ctx.fillText(i + '%', padding - 10, y + 4);
            }

            // Ø¥Ø¶Ø§ÙØ© Ù…ÙØªØ§Ø­ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø­Ø³Ù†
            const legendY = 20;
            const legendItems = [
                { name: 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ', color: colors.total },
                { name: 'Ø§Ù„Ù†ÙˆÙ…', color: colors.sleep },
                { name: 'Ø§Ù„ØµØ­Ø©', color: colors.health },
                { name: 'Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©', color: colors.productivity },
                { name: 'Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©', color: colors.wellbeing },
                { name: 'Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„ØªÙˆØªØ±', color: colors.stress }
            ];

            legendItems.forEach((item, index) => {
                const x = padding + (index % 3) * 200;
                const y = legendY + Math.floor(index / 3) * 20;
                ctx.fillStyle = item.color;
                ctx.fillRect(x, y, 15, 3);
                ctx.fillStyle = '#333';
                ctx.font = '11px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(item.name, x + 20, y + 10);
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†
        function displayData() {
            const data = getSavedData();
            const dataList = document.getElementById('dataList');
            const dataCount = document.getElementById('dataCount');
            
            dataCount.textContent = data.length;

            if (data.length === 0) {
                dataList.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø¨ØªØ³Ø¬ÙŠÙ„ ÙŠÙˆÙ…Ùƒ Ø§Ù„Ø£ÙˆÙ„!</div>';
                return;
            }

            const sortedData = data.sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);

            dataList.innerHTML = sortedData.map(entry => {
                const formattedDate = new Date(entry.date).toLocaleDateString('ar-SA', {
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric'
                });
                
                return `
                    <div class="data-entry">
                        <div class="data-entry-header">
                            <div class="data-entry-date">${formattedDate}</div>
                            <div class="data-entry-score">${entry.scores?.total || 0}%</div>
                        </div>
                        <div class="data-entry-content">
                            <div>
                                <strong>ğŸ˜´ Ø§Ù„Ù†ÙˆÙ…:</strong> ${entry.sleepQuality}/10<br>
                                <strong>ğŸ“Š Ø§Ù„ØªÙˆØªØ±:</strong> ${entry.stressLevel}/10<br>
                                <strong>ğŸ’§ Ø§Ù„Ù…Ø§Ø¡:</strong> ${entry.waterGlasses || 0} Ø£ÙƒÙˆØ§Ø¨<br>
                                <strong>âš–ï¸ Ø§Ù„ÙˆØ²Ù†:</strong> ${entry.weight || '-'} ÙƒØ¬Ù…
                            </div>
                            <div>
                                <strong>ğŸ˜Š Ø§Ù„Ù…Ø²Ø§Ø¬:</strong> ${entry.overallMood}/10<br>
                                <strong>ğŸ¨ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹:</strong> ${entry.creativityLevel}/10<br>
                                <strong>âœ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª:</strong> ${entry.achievements?.length || 0}<br>
                                <strong>ğŸš€ Ø®Ø±ÙˆØ¬ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø§Ø­Ø©:</strong> ${entry.comfortZone >= 2 ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}
                            </div>
                        </div>
                        ${entry.biggestChallenge ? `<div style="margin-top: 15px; font-style: italic; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;"><strong>ğŸ’ª ØªØ­Ø¯ÙŠ:</strong> "${entry.biggestChallenge}"</div>` : ''}
                        ${entry.gratitude ? `<div style="margin-top: 10px; font-style: italic; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;"><strong>ğŸ™ Ø§Ù…ØªÙ†Ø§Ù†:</strong> "${entry.gratitude}"</div>` : ''}
                        ${entry.tomorrowPriority ? `<div style="margin-top: 10px; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;"><strong>ğŸ¯ Ù‡Ø¯Ù Ø§Ù„ØºØ¯:</strong> "${entry.tomorrowPriority}"</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (exportData, clearAllData, toggleTheme, clearForm, setupEventListeners)
        // ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ø¹ Ø¥Ø¶Ø§ÙØ§Øª Ø¨Ø³ÙŠØ·Ø©

        function exportData() {
            const data = getSavedData();
            if (data.length === 0) {
                showAlert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±', 'warning');
                return;
            }

            const exportData = {
                exportDate: new Date().toISOString(),
                version: '5.0',
                appName: 'Ultimate Life Tracker',
                totalEntries: data.length,
                dateRange: {
                    from: data[0].date,
                    to: data[data.length - 1].date
                },
                features: ['sleep', 'health', 'productivity', 'wellbeing', 'challenges', 'bmi', 'stress', 'creativity'],
                data: data
            };

            const blob = new Blob([JSON.stringify(exportData, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ultimate-life-tracker-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showAlert('ØªÙ… ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­! ğŸ“¥', 'success');
        }

        function clearAllData() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù‡Ø°Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!\n\nÙ†ØµÙŠØ­Ø©: ØµØ¯Ù‘Ø± Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø£ÙˆÙ„Ø§Ù‹ ÙƒÙ†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©.')) {
                if (confirm('ØªØ£ÙƒÙŠØ¯ Ø£Ø®ÙŠØ±: Ø³ÙŠØªÙ… Ø­Ø°Ù ÙƒÙ„ Ø´ÙŠØ¡ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!')) {
                    localStorage.removeItem(STORAGE_KEY);
                    localStorage.removeItem(WEEKLY_GOALS_KEY);
                    updateDisplay();
                    calculateDailyScore();
                    loadWeeklyGoals();
                    showAlert('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'success');
                }
            }
        }

        function toggleTheme() {
            darkMode = !darkMode;
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', darkMode);
            document.querySelector('.theme-toggle').textContent = darkMode ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        function clearForm() {
            // Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ
            ['achievement1', 'achievement2', 'achievement3', 'todayLearning', 'gratitude', 'bestMoment', 'tomorrowPriority', 'improvement', 'additionalNotes', 'biggestChallenge', 'challengeResponse'].forEach(id => {
                document.getElementById(id).value = '';
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
            ['waterGlasses', 'coffeeCount', 'teaCount', 'weight', 'height'].forEach(id => {
                document.getElementById(id).value = '';
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±Ø§Øª Ø¥Ù„Ù‰ 5
            ['sleepQuality', 'stressLevel', 'creativityLevel', 'foodQuality', 'physicalEnergy', 'mentalClarity', 'energyLevel', 'accomplishment', 'overallMood', 'calmness', 'satisfaction', 'socialQuality'].forEach(id => {
                document.getElementById(id).value = '5';
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
            ['activityEstimate', 'exerciseToday', 'focusLevel', 'comfortZone', 'screenTime'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.selectedIndex = element.querySelector('[selected]') ? 
                        Array.from(element.options).findIndex(option => option.hasAttribute('selected')) : 
                        Math.floor(element.options.length / 2);
                }
            });
            
            // Ù…Ø³Ø­ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            document.querySelectorAll('.meal-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // Ù…Ø³Ø­ Ø§Ù„Ø¹Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            document.querySelectorAll('.habit-item').forEach(item => {
                const checkbox = item.querySelector('.habit-checkbox');
                checkbox.checked = false;
                item.classList.remove('checked');
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®
            document.getElementById('date').valueAsDate = new Date();
            
            // Ø¥Ø®ÙØ§Ø¡ BMI
            document.getElementById('bmiDisplay').style.display = 'none';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
            setupSliders();
            calculateDailyScore();
        }

        function setupEventListeners() {
            setupSliders();
            setupMealTracking();
            setupHabitTracking();
            
            // Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù„Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            ['waterGlasses', 'coffeeCount', 'teaCount', 'weight', 'height', 'achievement1', 'achievement2', 'achievement3', 'activityEstimate', 'exerciseToday', 'focusLevel', 'comfortZone', 'screenTime', 'bedTime', 'wakeTime', 'biggestChallenge', 'challengeResponse', 'gratitude', 'bestMoment'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', calculateDailyScore);
                    element.addEventListener('change', calculateDailyScore);
                }
            });

            // Ù…Ø³ØªÙ…Ø¹ Ø®Ø§Øµ Ù„Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø·ÙˆÙ„
            ['weight', 'height'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', calculateBMI);
                }
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', function() {
            setupEventListeners();
            calculateDailyScore();
            calculateBMI();
            updateDisplay();
            loadWeeklyGoals();
            
            // Ø¶Ø¨Ø· Ø§Ù„Ø«ÙŠÙ…
            if (darkMode) {
                document.querySelector('.theme-toggle').textContent = 'â˜€ï¸';
            }
            
            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©
            startSmartReminders();
            
            // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯
            const data = getSavedData();
            if (data.length === 0) {
                setTimeout(() => {
                    showAlert('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø´Ø§Ù…Ù„! Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø­ÙŠØ§Ø© Ø£ÙØ¶Ù„ ğŸŒŸ', 'success');
                }, 1500);
            } else if (data.length === 7) {
                setTimeout(() => {
                    showAlert('Ø±Ø§Ø¦Ø¹! Ø£Ø³Ø¨ÙˆØ¹ ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„ØªØªØ¨Ø¹. Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±Ùƒ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ! ğŸ“‹', 'success');
                }, 1000);
            }
        });
    </script>
</body>
</html>
